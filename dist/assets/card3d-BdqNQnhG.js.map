{"version":3,"file":"card3d-BdqNQnhG.js","sources":["../../src/components/card3d.tsx"],"sourcesContent":["// @ts-nocheck\r\n\r\n\"use client\";\r\nimport * as THREE from \"three\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Canvas, extend, useThree, useFrame } from \"@react-three/fiber\";\r\nimport {\r\n\tuseGLTF,\r\n\tuseTexture,\r\n\tEnvironment,\r\n\tLightformer,\r\n} from \"@react-three/drei\";\r\nimport {\r\n\tBallCollider,\r\n\tCuboidCollider,\r\n\tPhysics,\r\n\tRigidBody,\r\n\tuseRopeJoint,\r\n\tuseSphericalJoint,\r\n} from \"@react-three/rapier\";\r\nimport { MeshLineGeometry, MeshLineMaterial } from \"meshline\";\r\nimport { useControls } from \"leva\";\r\n\r\nextend({ MeshLineGeometry, MeshLineMaterial });\r\n\r\n// Preload models and textures\r\nuseGLTF.preload(\"/lailaolab-tag.glb\", false, false);\r\n\r\nuseTexture.preload(\"/lailaolab-clamp-black.jpeg\");\r\n\r\nexport default function Card3d() {\r\n\treturn (\r\n\t\t<Canvas camera={{ position: [0, 0, 11], fov: 20 }} style={{ width: '100%', height: '100%' }}>\r\n\t\t\t<ambientLight intensity={Math.PI} />\r\n\t\t\t<Physics interpolate gravity={[0, -40, 0]} timeStep={1 / 60}>\r\n\t\t\t\t<Band />\r\n\t\t\t</Physics>\r\n\t\t<Environment blur={0.75}>\r\n\t\t\t\t<Lightformer\r\n\t\t\t\t\tintensity={2}\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tposition={[0, -1, 5]}\r\n\t\t\t\t\trotation={[0, 0, Math.PI / 3]}\r\n\t\t\t\t\tscale={[100, 0.1, 1]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Lightformer\r\n\t\t\t\t\tintensity={3}\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tposition={[-1, -1, 1]}\r\n\t\t\t\t\trotation={[0, 0, Math.PI / 3]}\r\n\t\t\t\t\tscale={[100, 0.1, 1]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Lightformer\r\n\t\t\t\t\tintensity={3}\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tposition={[1, 1, 1]}\r\n\t\t\t\t\trotation={[0, 0, Math.PI / 3]}\r\n\t\t\t\t\tscale={[100, 0.1, 1]}\r\n\t\t\t\t/>\r\n\t\t\t\t<Lightformer\r\n\t\t\t\t\tintensity={10}\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tposition={[-10, 0, 14]}\r\n\t\t\t\t\trotation={[0, Math.PI / 2, Math.PI / 3]}\r\n\t\t\t\t\tscale={[100, 10, 1]}\r\n\t\t\t\t/>\r\n\t\t\t</Environment>\r\n\t\t</Canvas>\r\n\t);\r\n}\r\n\r\nfunction Band({ maxSpeed = 50, minSpeed = 10 }) {\r\n\tconst band = useRef(null);\r\n\tconst fixed = useRef(null);\r\n\tconst j1 = useRef(null);\r\n\tconst j2 = useRef(null);\r\n\tconst j3 = useRef(null);\r\n\tconst card = useRef(null);\r\n\r\n\tconst vec = new THREE.Vector3();\r\n\tconst ang = new THREE.Vector3();\r\n\tconst rot = new THREE.Vector3();\r\n\tconst dir = new THREE.Vector3();\r\n\r\n\tconst segmentProps = {\r\n\t\ttype: \"dynamic\",\r\n\t\tcanSleep: true,\r\n\t\tcolliders: false,\r\n\t\tangularDamping: 2,\r\n\t\tlinearDamping: 2,\r\n\t};\r\n\r\n\t// Load models and textures\r\n\tconst { nodes, materials } = useGLTF(\"/lailaolab-tag.glb\");\r\n\r\n\tfor (const node of Object.values(nodes)) {\r\n\t\tif (node instanceof THREE.Mesh) {\r\n\t\t\tconsole.log(node.geometry, node.material);\r\n\t\t}\r\n\t}\r\n\r\n\tconst texture = useTexture(\"/lailaolab-clamp-black.jpeg\");\r\n\r\n\tconst { width, height } = useThree((state) => state.size);\r\n\tconst [curve] = useState(\r\n\t\t() =>\r\n\t\t\tnew THREE.CatmullRomCurve3([\r\n\t\t\t\tnew THREE.Vector3(),\r\n\t\t\t\tnew THREE.Vector3(),\r\n\t\t\t\tnew THREE.Vector3(),\r\n\t\t\t\tnew THREE.Vector3(),\r\n\t\t\t]),\r\n\t);\r\n\tconst [dragged, setDragged] = useState(false);\r\n\tconst [hovered, setHovered] = useState(false);\r\n\r\n\t// Rope joints\r\n\tuseRopeJoint(fixed, j1, [[0, 0, 0], [0, 0, 0], 1]);\r\n\tuseRopeJoint(j1, j2, [[0, 0, 0], [0, 0, 0], 1]);\r\n\tuseRopeJoint(j2, j3, [[0, 0, 0], [0, 0, 0], 1]);\r\n\tuseSphericalJoint(j3, card, [\r\n\t\t[0, 0, 0],\r\n\t\t[0, 1.45, 0],\r\n\t]);\r\n\r\n\t// Effects for pointer interactions\r\n\tuseEffect(() => {\r\n\t\tif (hovered) {\r\n\t\t\tdocument.body.style.cursor = dragged ? \"grabbing\" : \"grab\";\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tdocument.body.style.cursor = \"auto\";\r\n\t\t};\r\n\t}, [hovered, dragged]);\r\n\r\n\t// Frame-by-frame updates\r\n\tuseFrame((state, delta) => {\r\n\t\tif (dragged instanceof THREE.Vector3) {\r\n\t\t\tvec.set(state.pointer.x, state.pointer.y, 0.5).unproject(state.camera);\r\n\t\t\tdir.copy(vec).sub(state.camera.position).normalize();\r\n\t\t\tvec.add(dir.multiplyScalar(state.camera.position.length()));\r\n\t\t\tfor (const ref of [j1, j2, j3, card, fixed]) {\r\n\t\t\t\tref.current?.wakeUp();\r\n\t\t\t}\r\n\t\t\tcard.current?.setNextKinematicTranslation({\r\n\t\t\t\tx: vec.x - dragged.x,\r\n\t\t\t\ty: vec.y - dragged.y,\r\n\t\t\t\tz: vec.z - dragged.z,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (fixed.current) {\r\n\t\t\tfor (const ref of [j1, j2]) {\r\n\t\t\t\tif (!ref.current.lerped) {\r\n\t\t\t\t\tref.current.lerped = new THREE.Vector3().copy(\r\n\t\t\t\t\t\tref.current.translation(),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst clampedDistance = Math.max(\r\n\t\t\t\t\t0.1,\r\n\t\t\t\t\tMath.min(1, ref.current.lerped.distanceTo(ref.current.translation())),\r\n\t\t\t\t);\r\n\r\n\t\t\t\tref.current.lerped.lerp(\r\n\t\t\t\t\tref.current.translation(),\r\n\t\t\t\t\tdelta * (minSpeed + clampedDistance * (maxSpeed - minSpeed)),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Calculate the catmull-rom curve\r\n\t\t\tcurve.points[0].copy(j3.current.translation());\r\n\t\t\tcurve.points[1].copy(j2.current.lerped);\r\n\t\t\tcurve.points[2].copy(j1.current.lerped);\r\n\t\t\tcurve.points[3].copy(fixed.current.translation());\r\n\t\t\tband.current.geometry.setPoints(curve.getPoints(32));\r\n\r\n\t\t\t// Tilt it back towards the screen\r\n\t\t\tang.copy(card.current.angvel());\r\n\t\t\trot.copy(card.current.rotation());\r\n\t\t\tcard.current.setAngvel({ x: ang.x, y: ang.y - rot.y * 0.25, z: ang.z });\r\n\t\t}\r\n\t});\r\n\r\n\t// Set texture wrapping\r\n\tcurve.curveType = \"chordal\";\r\n\ttexture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<group position={[0, 4, 0]}>\r\n\t\t\t\t<RigidBody ref={fixed} {...segmentProps} type=\"fixed\" />\r\n\t\t\t\t<RigidBody position={[0.5, 0, 0]} ref={j1} {...segmentProps}>\r\n\t\t\t\t\t<BallCollider args={[0.1]} />\r\n\t\t\t\t</RigidBody>\r\n\t\t\t\t<RigidBody position={[1, 0, 0]} ref={j2} {...segmentProps}>\r\n\t\t\t\t\t<BallCollider args={[0.1]} />\r\n\t\t\t\t</RigidBody>\r\n\t\t\t\t<RigidBody position={[1.5, 0, 0]} ref={j3} {...segmentProps}>\r\n\t\t\t\t\t<BallCollider args={[0.1]} />\r\n\t\t\t\t</RigidBody>\r\n\t\t\t\t<RigidBody\r\n\t\t\t\t\tposition={[2, 0, 0]}\r\n\t\t\t\t\tref={card}\r\n\t\t\t\t\t{...segmentProps}\r\n\t\t\t\t\ttype={dragged ? \"kinematicPosition\" : \"dynamic\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CuboidCollider args={[0.8, 1.125, 0.01]} />\r\n\t\t\t\t\t<group\r\n\t\t\t\t\t\tscale={2.25}\r\n\t\t\t\t\t\tposition={[0, -1.2, -0.05]}\r\n\t\t\t\t\t\tonPointerOver={() => setHovered(true)}\r\n\t\t\t\t\t\tonPointerOut={() => setHovered(false)}\r\n\t\t\t\t\t\tonPointerUp={(e) => {\r\n\t\t\t\t\t\t\te.target.releasePointerCapture(e.pointerId);\r\n\t\t\t\t\t\t\tsetDragged(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonPointerDown={(e) => {\r\n\t\t\t\t\t\t\te.target.setPointerCapture(e.pointerId);\r\n\t\t\t\t\t\t\tsetDragged(\r\n\t\t\t\t\t\t\t\tnew THREE.Vector3()\r\n\t\t\t\t\t\t\t\t\t.copy(e.point)\r\n\t\t\t\t\t\t\t\t\t.sub(vec.copy(card.current.translation())),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<mesh geometry={nodes.card.geometry}>\r\n\t\t\t\t\t\t\t<meshPhysicalMaterial\r\n\t\t\t\t\t\t\t\tmap={materials.base.map}\r\n\t\t\t\t\t\t\t\tmap-anisotropy={16}\r\n\t\t\t\t\t\t\t\tclearcoat={1}\r\n\t\t\t\t\t\t\t\tclearcoatRoughness={0.15}\r\n\t\t\t\t\t\t\t\troughness={0.3}\r\n\t\t\t\t\t\t\t\tmetalness={0.5}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</mesh>\r\n\t\t\t\t\t\t<mesh\r\n\t\t\t\t\t\t\tgeometry={nodes.clip.geometry}\r\n\t\t\t\t\t\t\tmaterial={materials.metal}\r\n\t\t\t\t\t\t\tmaterial-roughness={0.3}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<mesh geometry={nodes.clamp.geometry} material={materials.metal} />\r\n\t\t\t\t\t</group>\r\n\t\t\t\t</RigidBody>\r\n\t\t\t</group>\r\n\t\t\t<mesh ref={band}>\r\n\t\t\t\t<meshLineGeometry />\r\n\t\t\t\t<meshLineMaterial\r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tdepthTest={false}\r\n\t\t\t\t\tresolution={[width, height]}\r\n\t\t\t\t\tuseMap\r\n\t\t\t\t\tmap={texture}\r\n\t\t\t\t\trepeat={[-3, 1]}\r\n\t\t\t\t\tlineWidth={1}\r\n\t\t\t\t/>\r\n\t\t\t</mesh>\r\n\t\t</>\r\n\t);\r\n}\r\n"],"names":["extend","MeshLineGeometry","MeshLineMaterial","useGLTF","useTexture","Card3d","Canvas","jsx","Physics","Band","jsxs","Environment","Lightformer","maxSpeed","minSpeed","band","useRef","fixed","j1","j2","j3","card","vec","THREE.Vector3","ang","rot","dir","segmentProps","nodes","materials","node","THREE.Mesh","texture","width","height","useThree","state","curve","useState","THREE.CatmullRomCurve3","dragged","setDragged","hovered","setHovered","useRopeJoint","useSphericalJoint","useEffect","useFrame","delta","ref","_a","_b","clampedDistance","THREE.RepeatWrapping","Fragment","RigidBody","BallCollider","CuboidCollider","e"],"mappings":"mUAuBAA,EAAO,CAAE,iBAAAC,EAAkB,iBAAAC,EAAkB,EAG7CC,EAAQ,QAAQ,qBAAsB,GAAO,EAAK,EAElDC,EAAW,QAAQ,6BAA6B,EAEhD,SAAwBC,IAAS,CAChC,cACEC,EAAO,CAAA,OAAQ,CAAE,SAAU,CAAC,EAAG,EAAG,EAAE,EAAG,IAAK,EAAA,EAAM,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAClF,EAAA,SAAA,CAACC,EAAAA,IAAA,eAAA,CAAa,UAAW,KAAK,EAAI,CAAA,EACjCA,EAAA,IAAAC,EAAA,CAAQ,YAAW,GAAC,QAAS,CAAC,EAAG,IAAK,CAAC,EAAG,SAAU,EAAI,GACxD,SAAAD,EAAAA,IAACE,GAAK,CAAA,EACP,EACDC,EAAAA,KAACC,EAAY,CAAA,KAAM,IACjB,SAAA,CAAAJ,EAAA,IAACK,EAAA,CACA,UAAW,EACX,MAAM,QACN,SAAU,CAAC,EAAG,GAAI,CAAC,EACnB,SAAU,CAAC,EAAG,EAAG,KAAK,GAAK,CAAC,EAC5B,MAAO,CAAC,IAAK,GAAK,CAAC,CAAA,CACpB,EACAL,EAAA,IAACK,EAAA,CACA,UAAW,EACX,MAAM,QACN,SAAU,CAAC,GAAI,GAAI,CAAC,EACpB,SAAU,CAAC,EAAG,EAAG,KAAK,GAAK,CAAC,EAC5B,MAAO,CAAC,IAAK,GAAK,CAAC,CAAA,CACpB,EACAL,EAAA,IAACK,EAAA,CACA,UAAW,EACX,MAAM,QACN,SAAU,CAAC,EAAG,EAAG,CAAC,EAClB,SAAU,CAAC,EAAG,EAAG,KAAK,GAAK,CAAC,EAC5B,MAAO,CAAC,IAAK,GAAK,CAAC,CAAA,CACpB,EACAL,EAAA,IAACK,EAAA,CACA,UAAW,GACX,MAAM,QACN,SAAU,CAAC,IAAK,EAAG,EAAE,EACrB,SAAU,CAAC,EAAG,KAAK,GAAK,EAAG,KAAK,GAAK,CAAC,EACtC,MAAO,CAAC,IAAK,GAAI,CAAC,CAAA,CAAA,CACnB,CACD,CAAA,CAAA,EACD,CAEF,CAEA,SAASH,EAAK,CAAE,SAAAI,EAAW,GAAI,SAAAC,EAAW,IAAM,CACzC,MAAAC,EAAOC,SAAO,IAAI,EAClBC,EAAQD,SAAO,IAAI,EACnBE,EAAKF,SAAO,IAAI,EAChBG,EAAKH,SAAO,IAAI,EAChBI,EAAKJ,SAAO,IAAI,EAChBK,EAAOL,SAAO,IAAI,EAElBM,EAAM,IAAIC,EACVC,EAAM,IAAID,EACVE,EAAM,IAAIF,EACVG,EAAM,IAAIH,EAEVI,EAAe,CACpB,KAAM,UACN,SAAU,GACV,UAAW,GACX,eAAgB,EAChB,cAAe,CAChB,EAGM,CAAE,MAAAC,EAAO,UAAAC,GAAc1B,EAAQ,oBAAoB,EAEzD,UAAW2B,KAAQ,OAAO,OAAOF,CAAK,EACjCE,aAAgBC,GACnB,QAAQ,IAAID,EAAK,SAAUA,EAAK,QAAQ,EAIpC,MAAAE,EAAU5B,EAAW,6BAA6B,EAElD,CAAE,MAAA6B,EAAO,OAAAC,CAAO,EAAIC,EAAUC,GAAUA,EAAM,IAAI,EAClD,CAACC,CAAK,EAAIC,EAAA,SACf,IACC,IAAIC,EAAuB,CAC1B,IAAIhB,EACJ,IAAIA,EACJ,IAAIA,EACJ,IAAIA,CACJ,CAAA,CACH,EACM,CAACiB,EAASC,CAAU,EAAIH,EAAAA,SAAS,EAAK,EACtC,CAACI,EAASC,CAAU,EAAIL,EAAAA,SAAS,EAAK,EAG5C,OAAAM,EAAa3B,EAAOC,EAAI,CAAC,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,CAAC,EACjD0B,EAAa1B,EAAIC,EAAI,CAAC,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,CAAC,EAC9CyB,EAAazB,EAAIC,EAAI,CAAC,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,EAAG,EAAG,CAAC,EAAG,CAAC,CAAC,EAC9CyB,EAAkBzB,EAAIC,EAAM,CAC3B,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,KAAM,CAAC,CAAA,CACX,EAGDyB,EAAAA,UAAU,KACLJ,IACH,SAAS,KAAK,MAAM,OAASF,EAAU,WAAa,QAE9C,IAAM,CACH,SAAA,KAAK,MAAM,OAAS,MAC9B,GACE,CAACE,EAASF,CAAO,CAAC,EAGZO,EAAA,CAACX,EAAOY,IAAU,SACtB,GAAAR,aAAmBjB,EAAe,CACjCD,EAAA,IAAIc,EAAM,QAAQ,EAAGA,EAAM,QAAQ,EAAG,EAAG,EAAE,UAAUA,EAAM,MAAM,EACjEV,EAAA,KAAKJ,CAAG,EAAE,IAAIc,EAAM,OAAO,QAAQ,EAAE,UAAU,EAC/Cd,EAAA,IAAII,EAAI,eAAeU,EAAM,OAAO,SAAS,OAAA,CAAQ,CAAC,EAC1D,UAAWa,IAAO,CAAC/B,EAAIC,EAAIC,EAAIC,EAAMJ,CAAK,GACzCiC,EAAAD,EAAI,UAAJ,MAAAC,EAAa,UAEdC,EAAA9B,EAAK,UAAL,MAAA8B,EAAc,4BAA4B,CACzC,EAAG7B,EAAI,EAAIkB,EAAQ,EACnB,EAAGlB,EAAI,EAAIkB,EAAQ,EACnB,EAAGlB,EAAI,EAAIkB,EAAQ,CAAA,EACnB,CAGF,GAAIvB,EAAM,QAAS,CAClB,UAAWgC,IAAO,CAAC/B,EAAIC,CAAE,EAAG,CACtB8B,EAAI,QAAQ,SAChBA,EAAI,QAAQ,OAAS,IAAI1B,EAAgB,EAAA,KACxC0B,EAAI,QAAQ,YAAY,CACzB,GAGD,MAAMG,EAAkB,KAAK,IAC5B,GACA,KAAK,IAAI,EAAGH,EAAI,QAAQ,OAAO,WAAWA,EAAI,QAAQ,aAAa,CAAC,CACrE,EAEAA,EAAI,QAAQ,OAAO,KAClBA,EAAI,QAAQ,YAAY,EACxBD,GAASlC,EAAWsC,GAAmBvC,EAAWC,GACnD,CAAA,CAIDuB,EAAM,OAAO,CAAC,EAAE,KAAKjB,EAAG,QAAQ,aAAa,EAC7CiB,EAAM,OAAO,CAAC,EAAE,KAAKlB,EAAG,QAAQ,MAAM,EACtCkB,EAAM,OAAO,CAAC,EAAE,KAAKnB,EAAG,QAAQ,MAAM,EACtCmB,EAAM,OAAO,CAAC,EAAE,KAAKpB,EAAM,QAAQ,aAAa,EAChDF,EAAK,QAAQ,SAAS,UAAUsB,EAAM,UAAU,EAAE,CAAC,EAGnDb,EAAI,KAAKH,EAAK,QAAQ,OAAA,CAAQ,EAC9BI,EAAI,KAAKJ,EAAK,QAAQ,SAAA,CAAU,EAChCA,EAAK,QAAQ,UAAU,CAAE,EAAGG,EAAI,EAAG,EAAGA,EAAI,EAAIC,EAAI,EAAI,IAAM,EAAGD,EAAI,EAAG,CAAA,CACvE,CACA,EAGDa,EAAM,UAAY,UACVL,EAAA,MAAQA,EAAQ,MAAQqB,EAI9B3C,EAAA,KAAA4C,WAAA,CAAA,SAAA,CAAA5C,OAAC,SAAM,SAAU,CAAC,EAAG,EAAG,CAAC,EACxB,SAAA,CAAAH,MAACgD,GAAU,IAAKtC,EAAQ,GAAGU,EAAc,KAAK,QAAQ,QACrD4B,EAAU,CAAA,SAAU,CAAC,GAAK,EAAG,CAAC,EAAG,IAAKrC,EAAK,GAAGS,EAC9C,SAACpB,EAAAA,IAAAiD,EAAA,CAAa,KAAM,CAAC,EAAG,CAAG,CAAA,EAC5B,QACCD,EAAU,CAAA,SAAU,CAAC,EAAG,EAAG,CAAC,EAAG,IAAKpC,EAAK,GAAGQ,EAC5C,SAACpB,EAAAA,IAAAiD,EAAA,CAAa,KAAM,CAAC,EAAG,CAAG,CAAA,EAC5B,QACCD,EAAU,CAAA,SAAU,CAAC,IAAK,EAAG,CAAC,EAAG,IAAKnC,EAAK,GAAGO,EAC9C,SAACpB,EAAAA,IAAAiD,EAAA,CAAa,KAAM,CAAC,EAAG,CAAG,CAAA,EAC5B,EACA9C,EAAA,KAAC6C,EAAA,CACA,SAAU,CAAC,EAAG,EAAG,CAAC,EAClB,IAAKlC,EACJ,GAAGM,EACJ,KAAMa,EAAU,oBAAsB,UAEtC,SAAA,CAAAjC,EAAA,IAACkD,GAAe,KAAM,CAAC,GAAK,MAAO,GAAI,EAAG,EAC1C/C,EAAA,KAAC,QAAA,CACA,MAAO,KACP,SAAU,CAAC,EAAG,KAAM,IAAK,EACzB,cAAe,IAAMiC,EAAW,EAAI,EACpC,aAAc,IAAMA,EAAW,EAAK,EACpC,YAAce,GAAM,CACjBA,EAAA,OAAO,sBAAsBA,EAAE,SAAS,EAC1CjB,EAAW,EAAK,CACjB,EACA,cAAgBiB,GAAM,CACnBA,EAAA,OAAO,kBAAkBA,EAAE,SAAS,EACtCjB,EACC,IAAIlB,EAAc,EAChB,KAAKmC,EAAE,KAAK,EACZ,IAAIpC,EAAI,KAAKD,EAAK,QAAQ,YAAA,CAAa,CAAC,CAC3C,CACD,EAEA,SAAA,CAAAd,EAAA,IAAC,OAAK,CAAA,SAAUqB,EAAM,KAAK,SAC1B,SAAArB,EAAA,IAAC,uBAAA,CACA,IAAKsB,EAAU,KAAK,IACpB,iBAAgB,GAChB,UAAW,EACX,mBAAoB,IACpB,UAAW,GACX,UAAW,EAAA,CAAA,EAEb,EACAtB,EAAA,IAAC,OAAA,CACA,SAAUqB,EAAM,KAAK,SACrB,SAAUC,EAAU,MACpB,qBAAoB,EAAA,CACrB,EACAtB,MAAC,QAAK,SAAUqB,EAAM,MAAM,SAAU,SAAUC,EAAU,KAAO,CAAA,CAAA,CAAA,CAAA,CAClE,CAAA,CAAA,CACD,EACD,EACAnB,EAAAA,KAAC,OAAK,CAAA,IAAKK,EACV,SAAA,CAAAR,EAAA,IAAC,mBAAiB,EAAA,EAClBA,EAAA,IAAC,mBAAA,CACA,MAAM,QACN,UAAW,GACX,WAAY,CAAC0B,EAAOC,CAAM,EAC1B,OAAM,GACN,IAAKF,EACL,OAAQ,CAAC,GAAI,CAAC,EACd,UAAW,CAAA,CAAA,CACZ,CACD,CAAA,CAAA,EACD,CAEF"}